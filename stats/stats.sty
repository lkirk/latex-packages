\ProvidesPackage{stats}

\RequirePackage{iftex}

% bold shortcuts
\ifXeTeX{}
\newcommand{\bm}[1]{\symbf{#1}}
\else
\RequirePackage{bm}
\fi

% lower bold
\newcommand{\bx}{\bm{x}}
\newcommand{\by}{\bm{y}}
\newcommand{\bu}{\bm{u}}
\newcommand{\bv}{\bm{v}}

% upper bold
\newcommand{\bA}{\bm{A}}
\newcommand{\bX}{\bm{X}}
\newcommand{\bQ}{\bm{Q}}
\newcommand{\bR}{\bm{R}}
\newcommand{\bU}{\bm{U}}
\newcommand{\bV}{\bm{V}}

% greek bold
\newcommand{\bbeta}{\bm{\beta}}
\newcommand{\bepsilon}{\bm{\epsilon}}
\newcommand{\bSigma}{\bm{\Sigma}}
\newcommand{\bLambda}{\bm{\Lambda}}

% distributions
\newcommand{\Beta}{\operatorname{Beta}}
\newcommand{\Cauchy}{\operatorname{Cauchy}}
\newcommand{\Exp}{\operatorname{Exp}}
\newcommand{\Poi}{\operatorname{Poi}}
\newcommand{\Unif}{\operatorname{Unif}}
\newcommand{\Gam}{\operatorname{Gamma}}
\newcommand{\Bin}{\operatorname{Bin}}
\newcommand{\Geom}{\operatorname{Geom}}

% stochastic convergence
\newcommand\toD{\overset{\mathcal{D}}{\to}}
\newcommand\toP{\overset{\mathcal{P}}{\to}}

% stats operators
\renewcommand{\P}{\mathbb{P}}
\newcommand{\E}{\mathbb{E}}
\newcommand{\Corr}{\operatorname{Corr}}
\newcommand{\Cov}{\operatorname{Cov}}
\newcommand{\Var}{\operatorname{Var}}
\newcommand{\erf}{\operatorname{erf}}
\newcommand\iid{\mathrel{\overset{\makebox[0pt]{\mbox{\normalfont\tiny iid}}}{\sim}}}

% Nice indicator functions
\DeclareMathAlphabet{\mathmybb}{U}{bbold}{m}{n}
\newcommand{\1}{\mathmybb{1}}

% slight hack to make the independence symbol taken from here:
% https://tex.stackexchange.com/a/79436
\newcommand\independent{\protect\mathpalette{\protect\independenT}{\perp}}
\def\independenT#1#2{\mathrel{\rlap{$#1#2$}\mkern3mu{#1#2}}}

% general operators
\DeclareMathOperator*{\argmin}{argmin}
\DeclareMathOperator*{\argmax}{argmax}
\newcommand{\abs}[1]{\left\lvert #1 \right\rvert}

% norms
\newcommand{\norm}[2][]{\left\Vert#2\right\Vert_{#1}}

% parens / brackets
\newcommand{\p}[1]{\mathopen{}\mathclose{\left(#1\right)}}
\newcommand{\br}[1]{\mathopen{}\mathclose{\left[#1\right]}}
